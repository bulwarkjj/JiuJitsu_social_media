{% extends "base.html" %}

{% block title %}Log in{% endblock %}

{% block content %}
    <h1>Log-in</h1>
    <!-- using the auth_views lets django contrib auth raise a validation error if login
    was unsuccessful and throw an error, which "if form.errors" catches-->
    {% if form.errors %}
        <p>
            Your username and password didn't match.
            Please try again.
        </p>
    {% else %}
        <p>Please use the following form to log-in</p>
    {% endif %}

    <div class="login-form">
        <form action="{% url 'login' %}" method="post">
            {{ form.as_p }}
            {% csrf_token %}
            <input type="hidden" name="text" value="{{ next }}" />
            <!-- "next" redirects the user to a given URL after successful login-->
            <p><input type="submit" value="Log-in"></p>

        </form>
    </div>

{% endblock %}